<!-- Analytics Card -->
<nz-card *ngIf="analytics" class="analytics-card" nzTitle="ðŸ“Š Dashboard Summary" [nzBordered]="false">
  <div nz-card-grid class="stat-box">
    <h3>Total Posted Cars</h3>
    <h1>{{analytics.totalCars}}</h1>
  </div>
  <div nz-card-grid class="stat-box">
    <h3>Total Sold Cars</h3>
    <h1>{{analytics.soldCars}}</h1>
  </div>
</nz-card>

<!-- Car Listings -->
<div class="car-container" [class.card-hovered]="hoveredCard !== null">
  <div class="car-card" *ngFor="let car of cars; let i = index" [class.active]="hoveredCard === i"
    (mouseenter)="hoveredCard = i" (mouseleave)="hoveredCard = null">
    
    <img [src]="'data:image/jpeg;base64,' + car.returnedImg" alt="Car Image" class="car-image" />

    <div class="car-details">
      <h2 class="car-title">{{car.brand}} - {{car.name}}</h2>
      <p class="car-description">{{car.description}}</p>
      <div class="car-meta">
        <p><b>Price:</b> â‚¹{{car.price}}</p>
        <p><b>Color:</b> {{car.color}}</p>
        <p><b>Transmission:</b> {{car.transmission}}</p>
        <p><b>Type:</b> {{car.type}}</p>
        <p><b>Year:</b> {{car.year | date: 'yyyy'}}</p>
      </div>

      <div class="button-container">
        <button *ngIf="!car.sold" nz-button nzType="primary" class="buy-button"
          [routerLink]="'/customer/car/' + car.id + '/book'">
          Buy Now
        </button>
        <img *ngIf="car.sold" src="SoldOut.png" alt="Sold" class="sold-image" />
      </div>
    </div>
  </div>
</div>
